spring:
  application:
    name: api
  datasource:
    url: jdbc:sqlite:./data/app.db
    driver-class-name: org.sqlite.JDBC
  jpa:
    hibernate:
      ddl-auto: update
    defer-datasource-initialization: true
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.community.dialect.SQLiteDialect
        format_sql: true
  security:
    oauth2:
      client:
        registration:
          github:
            client-id: ${GITHUB_CLIENT_ID:}
            client-secret: ${GITHUB_CLIENT_SECRET:}
            scope: user:email
          google:
            client-id: ${GOOGLE_CLIENT_ID:}
            client-secret: ${GOOGLE_CLIENT_SECRET:}
            scope: email,profile

server:
  port: 8080

jwt:
  secret: ${JWT_SECRET:change-me-in-production-must-be-at-least-32-bytes-long-for-hs256}
  expiration: 86400000  # 24 hours
  refresh-expiration: 604800000  # 7 days

logging:
  level:
    org.springframework.security: DEBUG

app:
  frontend:
    redirect-url: ${FRONTEND_REDIRECT_URL:http://localhost:5173/oauth/callback}
    allowed-origins: ${FRONTEND_ALLOWED_ORIGINS:}
  auth:
    cookies:
      domain: ${AUTH_COOKIE_DOMAIN:}
      secure: ${AUTH_COOKIE_SECURE:true}
      same-site: ${AUTH_COOKIE_SAME_SITE:Lax}
      access-max-age-seconds: ${AUTH_COOKIE_ACCESS_MAX_AGE:86400}
      refresh-max-age-seconds: ${AUTH_COOKIE_REFRESH_MAX_AGE:604800}
      access-token-name: ${AUTH_COOKIE_ACCESS_NAME:access_token}
      refresh-token-name: ${AUTH_COOKIE_REFRESH_NAME:refresh_token}

stripe:
  secret-key: ${STRIPE_SECRET_KEY:}
  webhook-secret: ${STRIPE_WEBHOOK_SECRET:}
